<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AppInvest</title>
    <link rel="stylesheet" href="static/css/style.css">
    <script src="script.js" defer></script>
</head>
<body>
    <div class="container">
        <h1>Welcome to AppInvest</h1>
        <form id="investment-form">
            <label for="amount">Investment Amount ($):</label>
            <input type="number" id="amount" name="amount" required>
            <label for="period">Investment Period (months):</label>
            <input type="number" id="period" name="period" value="12">
            <button type="submit">Calculate</button>
        </form>

        <div id="results" style="display: none;">
            <h2>Results</h2>
            <p id="gains"></p>
            <p id="total_amount"></p>
            <p id="forecasted_amount"></p>
            <p id="gain_margin"></p>
            <button id="view-graph" style="display: none;">View Growth Graph</button>
        </div>
    </div>

    <script>
        document.getElementById('investment-form').addEventListener('submit', function (event) {
            event.preventDefault(); // Prevent form submission

            const amount = parseFloat(document.getElementById('amount').value);
            const period = parseInt(document.getElementById('period').value);
            
            // Calculate gains (you can adjust this calculation as needed)
            const gains = amount * 0.1 * period; // Example calculation
            const totalAmount = amount + gains;
            const gainMargin = (gains / amount) * 100;

            // Display results
            document.getElementById('gains').innerText = `Gains: $${gains.toFixed(2)}`;
            document.getElementById('total_amount').innerText = `Total Amount: $${totalAmount.toFixed(2)}`;
            document.getElementById('forecasted_amount').innerText = `Forecasted Amount after ${period} months: $${totalAmount.toFixed(2)}`;
            document.getElementById('gain_margin').innerText = `Gain Margin: ${gainMargin.toFixed(2)}%`;
            document.getElementById('results').style.display = 'block';
            document.getElementById('view-graph').style.display = 'block';

            // Set the button to link to graph.html with parameters
            document.getElementById('view-graph').onclick = function() {
                window.location.href = `graph.html?amount=${totalAmount.toFixed(2)}&period=${period}`;
            };
        });
    </script>
</body>
</html>
